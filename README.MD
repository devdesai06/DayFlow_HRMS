# DayFlow HRMS

DayFlow HRMS is a full-stack Human Resource Management System designed to manage employees, attendance, leaves, payroll, and users with secure role-based access.

The system supports Employees, HR, and Admin roles and provides a clean dashboard-driven workflow with real backend APIs and Swagger documentation.

---

## ğŸš€ Features

### ğŸ” Authentication & Authorization
- JWT-based authentication
- Role-based access (ADMIN / HR / EMPLOYEE)
- Protected routes (frontend & backend)
- Secure API access using Bearer tokens

### ğŸ‘¥ Employee Management
- Create, view, update, delete employees
- View own profile
- Admin/HR access to all employees

### â± Attendance Management
- Daily check-in & check-out
- Attendance history
- Admin/HR attendance overview
- Duplicate check-in prevention

### ğŸ– Leave Management
- Apply for leave (Employee)
- View personal leave requests
- Admin/HR approve or reject leaves
- Leave types management

### ğŸ’° Payroll Management
- Create payroll records
- View payroll (Admin / Employee)

### ğŸ“Š Dashboards
- Employee dashboard (attendance, leaves, payroll)
- Admin dashboard (employees, attendance, leaves)

### ğŸ“„ API Documentation
- Swagger UI with all routes documented

---

## ğŸ§± Tech Stack

### Frontend
- React
- React Router
- Axios
- Tailwind CSS
- Lucide Icons

### Backend
- Node.js
- Express.js
- MySQL
- JWT Authentication
- Swagger (OpenAPI)

---

## ğŸ“ Folder Structure

### Backend (/backend)
```
backend/
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”œâ”€â”€ db.js               # MySQL connection
â”‚   â”‚   â”œâ”€â”€ swagger.js          # Swagger config
â”‚   â”‚
â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â”œâ”€â”€ auth.controller.js
â”‚   â”‚   â”œâ”€â”€ employee.controller.js
â”‚   â”‚   â”œâ”€â”€ attendance.controller.js
â”‚   â”‚   â”œâ”€â”€ leave.controller.js
â”‚   â”‚   â”œâ”€â”€ leaveType.controller.js
â”‚   â”‚   â”œâ”€â”€ payroll.controller.js
â”‚   â”‚
â”‚   â”œâ”€â”€ middleware/
â”‚   â”‚   â”œâ”€â”€ auth.middleware.js  # JWT verification
â”‚   â”‚   â”œâ”€â”€ role.middleware.js  # Role-based access
â”‚   â”‚
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ auth.routes.js
â”‚   â”‚   â”œâ”€â”€ employee.routes.js
â”‚   â”‚   â”œâ”€â”€ attendance.routes.js
â”‚   â”‚   â”œâ”€â”€ leave.routes.js
â”‚   â”‚   â”œâ”€â”€ leaveType.routes.js
â”‚   â”‚   â”œâ”€â”€ payroll.routes.js
â”‚   â”‚   â”œâ”€â”€ user.routes.js
â”‚   â”‚
â”‚   â”œâ”€â”€ db/
â”‚   â”‚   â””â”€â”€ mysql.js
â”‚
â”œâ”€â”€ server.js                   # App entry point
```

### Frontend (/frontend)
```
frontend/
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/                    # Axios API wrappers
â”‚   â”‚   â”œâ”€â”€ auth.api.js
â”‚   â”‚   â”œâ”€â”€ attendance.api.js
â”‚   â”‚   â”œâ”€â”€ employee.api.js
â”‚   â”‚   â”œâ”€â”€ leaves.api.js
â”‚   â”‚
â”‚   â”œâ”€â”€ services/               # Business logic layer
â”‚   â”‚   â”œâ”€â”€ attendance.service.js
â”‚   â”‚   â”œâ”€â”€ employee.service.js
â”‚   â”‚   â”œâ”€â”€ leave.service.js
â”‚   â”‚
â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”œâ”€â”€ Login.jsx
â”‚   â”‚   â”œâ”€â”€ Register.jsx
â”‚   â”‚   â”œâ”€â”€ ProtectedRoute.jsx
â”‚   â”‚
â”‚   â”œâ”€â”€ context/
â”‚   â”‚   â””â”€â”€ AuthContext.js
â”‚
â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”œâ”€â”€ EmployeeDashboard.jsx
â”‚   â”‚   â”œâ”€â”€ AdminDashboard.jsx
â”‚
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ attendance/
â”‚   â”‚   â”‚   â””â”€â”€ AttendancePage.jsx
â”‚   â”‚   â”œâ”€â”€ leaves/
â”‚   â”‚   â”‚   â””â”€â”€ LeavePage.jsx
â”‚   â”‚   â”œâ”€â”€ profile/
â”‚   â”‚   â”‚   â””â”€â”€ ViewEmployeeProfile.jsx
â”‚
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ Sidebar.jsx
â”‚   â”‚   â”œâ”€â”€ Topbar.jsx
â”‚   â”‚   â”œâ”€â”€ EmployeeCard.jsx
â”‚
â”‚   â”œâ”€â”€ App.js
â”‚   â”œâ”€â”€ index.js
```

---
## Entity-Relation Diagram
![alt text](er.jpeg)

## ğŸ” Authentication Flow

1. User logs in via `/auth/login`
2. Backend returns:
```json
{
  "token": "JWT_TOKEN",
  "role": "ADMIN | HR | EMPLOYEE"
}
```
3. Token is stored in AuthContext
4. Axios attaches token as:
```
Authorization: Bearer <token>
```
5. Protected routes verify JWT & role

---

## ğŸ“Œ API Routes

### ğŸ”‘ Auth Routes
```
POST   /api/v1/auth/register
POST   /api/v1/auth/login
```

### ğŸ‘¤ Employees
```
GET    /api/v1/employees/me
GET    /api/v1/employees
POST   /api/v1/employees
GET    /api/v1/employees/:id
PUT    /api/v1/employees/:id
DELETE /api/v1/employees/:id
```

### â± Attendance
```
POST   /api/v1/attendance/check-in
POST   /api/v1/attendance/check-out
GET    /api/v1/attendance/me
GET    /api/v1/attendance
GET    /api/v1/attendance/:employeeId
```

### ğŸ– Leaves
```
POST   /api/v1/leaves
GET    /api/v1/leaves
GET    /api/v1/leaves/me
GET    /api/v1/leaves/:id
PUT    /api/v1/leaves/:id/decision
```

### ğŸ—‚ Leave Types
```
GET    /api/v1/leave-types
POST   /api/v1/leave-types
```

### ğŸ’° Payroll
```
POST   /api/v1/payroll
GET    /api/v1/payroll
GET    /api/v1/payroll/me
```

### ğŸ‘¥ Users
```
GET    /api/v1/users/me
GET    /api/v1/users
PUT    /api/v1/users/:id/status
```

---

## ğŸ“˜ Swagger Documentation (COMPULSORY)

DayFlow HRMS includes Swagger (OpenAPI) for full API documentation.

### ğŸ“ Swagger URL
```
http://localhost:4000/api-docs
```

### What Swagger Provides
- Complete API listing
- Request/response schemas
- Authorization testing
- Role-based API visibility
- Live API execution

### How to Authorize in Swagger
1. Click **Authorize**
2. Enter:
```
Bearer <JWT_TOKEN>
```
3. Now test protected APIs

Swagger ensures:
- Backend contract clarity
- Easy frontend-backend integration
- API testing without Postman

---

## âš™ï¸ Environment Variables

### Backend (.env)
```env
PORT=4000
DB_HOST=localhost
DB_USER=root
DB_PASSWORD=yourpassword
DB_NAME=dayflow_hrms
JWT_SECRET=supersecretkey
```

### Frontend (.env)
```env
REACT_APP_API_BASE_URL=http://localhost:4000/api/v1
```

---

## ğŸ›¡ Security Notes

- JWT validation on every protected route
- Role-based middleware enforcement
- SQL injection safe queries
- Duplicate attendance prevention
- Token-based frontend API access

---

## âœ… Project Status

- âœ” Fully functional backend
- âœ” Real database integration
- âœ” Secure authentication
- âœ” Swagger documented APIs
- âœ” Scalable architecture

---

## ğŸ“Œ Future Enhancements

- Attendance auto-absent marking
- Payroll PDF generation
- Email notifications
- Advanced analytics dashboards
- Two-factor authentication

---

## ğŸ“„ License

This project is licensed under the MIT License.

## ğŸ¤ Contributing

Contributions, issues, and feature requests are welcome!

## ğŸ‘¨â€ğŸ’» Author

DayFlow HRMS Team
